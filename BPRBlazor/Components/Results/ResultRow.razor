@using BPR.Mediator.Services
@using System.Globalization
@using BPR.Mediator.Interfaces
@using BPR.Model.Enums
@inject NavigationManager NavigationManager
@inject IResultService ResultService
@inject IJSRuntime JS

<tr>
    <td>@Result.Title</td>
    <td>@Result.ResultStatus.ToString()</td>
    <td>@Result.ResultStart.ToLocalTime().ToString(CultureInfo.InvariantCulture)</td>
    <td>@(Result.ResultStatus != ResultStatus.Processing ? Result.ResultEnd.ToLocalTime().ToString(CultureInfo.InvariantCulture) : "")</td>
    <td>
        <div class="d-flex align-items-center justify-content-end gap-2">
            @if (Result.ResultStatus == ResultStatus.Finished)
            {
                <button class="btn btn-secondary" @onclick="() => SeeDetails(Result.Id)">See details</button>
            }
            <button class="btn btn-danger oi oi-trash" @onclick="() => DeleteAsync(Result.Id)"></button>
        </div>
    </td>
</tr>